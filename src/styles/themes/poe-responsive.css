/* ============================================
   Poe Theme - Responsive Mobile-First Styles
   ============================================ */

/* Base = mobile first */
[data-theme^="poe"] .parallax-container {
    height: 100vh; /* fallback */
    height: 100dvh; /* preferred */
}

/* Default tree sizing for all screens */
[data-theme^="poe"] .tree-close-left,
[data-theme^="poe"] .tree-close-right {
    width: auto;
    max-width: none;

    /* Full viewport height by default */
    height: 100vh;
    height: 100dvh;
}

/* Mobile portrait: Taller trees that frame the scene better */
@media (width <= 767px) and (orientation: portrait) {
    [data-theme^="poe"] .tree-close-left,
    [data-theme^="poe"] .tree-close-right {
        width: auto;
        height: 100vh; /* fallback */
        height: 100dvh; /* preferred */
        max-height: none;
    }

    [data-theme^="poe"] .tree-close-left {
        left: -25%; /* Less horizontal obstruction on mobile */
    }

    [data-theme^="poe"] .tree-close-right {
        right: -25%; /* Less horizontal obstruction on mobile */
    }

    /* Bigger town background on mobile portrait */
    [data-theme^="poe"] .town-background {
        width: 70vw;
        max-width: none;
    }
}

/* Mobile landscape: Trees fill viewport height */
@media (width <= 767px) and (orientation: landscape) {
    [data-theme^="poe"] .tree-close-left,
    [data-theme^="poe"] .tree-close-right {
        width: auto;
        height: 100vh; /* fallback */
        height: 100dvh; /* preferred */
        max-height: none;

        /* Removed the old transform hack */
    }

    /* Bigger town background on mobile landscape */
    [data-theme^="poe"] .town-background {
        width: 55vw;
        max-width: none;
    }
}

/* Optionally hide the super-foreground layer on very small widths */
@media (width <= 400px) {
    [data-theme^="poe"] .parallax-front {
        display: none;
    }
}

/* Tablet */
@media (width >= 768px) and (width <= 1023px) {
    [data-theme^="poe"] .tree-close-left,
    [data-theme^="poe"] .tree-close-right {
        width: auto;
        height: 100vh; /* fallback */
        height: 100dvh; /* preferred - full height */
    }

    [data-theme^="poe"] .tree-close-left {
        left: -15%; /* Slightly more horizontal coverage on tablet */
    }

    [data-theme^="poe"] .tree-close-right {
        right: -15%; /* Slightly more horizontal coverage on tablet */
    }
}

/* Desktop */
@media (width >= 1024px) {
    [data-theme^="poe"] .tree-close-left,
    [data-theme^="poe"] .tree-close-right {
        width: auto;
        height: 100vh; /* fallback */
        height: 100dvh; /* preferred - full height */
    }

    [data-theme^="poe"] .tree-close-left {
        left: -2%; /* Position tree partially off-screen for parallax coverage */
    }

    [data-theme^="poe"] .tree-close-right {
        right: -2%; /* Position tree partially off-screen for parallax coverage */
    }
}
